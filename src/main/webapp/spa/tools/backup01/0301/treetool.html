<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Qa Visualization</title>
    <!-- <link rel="stylesheet" href="../dist/bootstrap/4.4.1/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="../dist/chartjs/Chart.css">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="../dist/font/fontawesome-free.min.css">
    <!-- IonIcons -->
    <link rel="stylesheet" href="../dist/font/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="../dist/adminlte/css/adminlte.min.css">

    <link rel="stylesheet" href="../dist/ag-grid/ag-grid.css">
    <link rel="stylesheet" href="../dist/ag-grid/ag-theme-balham.css">
    <link rel="stylesheet" href="../dist/ag-grid/ag-theme-balham-dark.css">
    <link rel="stylesheet" href="treetool.css">
    <!-- <i class="fas fa-bars"></i></a> -->
</head>
<body  class="hold-transition layout-top-nav">
  <div class="wrapper">

  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand navbar-dark">
    <!-- Left navbar links -->
    <ul class="navbar-nav">
      <li class="nav-item d-none d-sm-inline-block">
        <a href="#" onclick="sp('networkmap')" class="nav-link">NetworkMap</a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="#" onclick="sp('review')" class="nav-link">Review</a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="#" onclick="sp('logs')" class="nav-link">Logs</a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="#" onclick="sp('history')" class="nav-link">History</a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="#" onclick="sp('browse')" class="nav-link">Browse</a>
      </li>
    </ul>

    <!-- Right navbar links -->
    <ul class="navbar-nav ml-auto">
      <li>
        <div class="btn-group">
          <button type="button" class="btn btn-success">Action</button>
          <button type="button" class="btn btn-success dropdown-toggle dropdown-hover dropdown-icon" data-toggle="dropdown">
            <span class="sr-only">Toggle Dropdown</span>
            <div class="dropdown-menu" role="menu">
              <a class="dropdown-item" href="#">Search</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="#">View</a>
              <a class="dropdown-item" href="#">Hop path</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="#">Prune Selected</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="#">Import from disk file</a>
              <a class="dropdown-item" href="#">Import from URL</a>
              <a class="dropdown-item" href="#">Automated QA Imports</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="#">Provenance Note</a>
            </div>
          </button>
        </div>
      </li>

      <li>&nbsp;&nbsp;&nbsp;</li>

      <li>
        <!-- SEARCH FORM -->
        <form class="form-inline ml-3">
          <div class="input-group input-group-sm">
            <div class="input-group-append bg-light">
              <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
              <button class="btn btn-navbar" type="submit">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>
        </form>
      </li>
      
    </ul>
  </nav>
  <!-- /.navbar -->

</div>

<div class="content active" id="content-networkmap">
  <div id="network-map-canvas"></div>
</div>

<div class="content" id="content-review">
    <div class="col-xl-3 none-margin-padding bg-success" style="padding-left: 8px;">
        <div id="domain-grid-continer" style="overflow: hidden;" class="ag-theme-balham"> </div>
    </div>
    <div class="col-xl-9 none-margin-padding">
        <div id="url-grid-continer" style="overflow: hidden;" class="ag-theme-balham"> </div>
    </div>
</div>

<script src="../dist/jquery/jquery-3.4.1.min.js"></script>
<script src="../dist/bootstrap/bootstrap.bundle.min.js"></script>
<script src="../dist/adminlte/js/adminlte.js"></script>
<script src="../dist/moment/moment.js"></script>
<script src="../dist/ag-grid/ag-grid-community.js"></script>
<script src="../dist/vis/vis-network.min.js"></script>
<script src="../dist/chartjs/Chart.js"></script>
<script src="treetool.js"></script>

<script src="networkmap.js"></script>
<script>
    function sp(key){
      $(".content").hide();
      $("#content-"+key).show();
    }


    $(function(){

        var networkMapContainer = document.getElementById('network-map-canvas');

        // var sourceUrl = "/curator/qa/ti_resource_domains.json?targetInstanceOid=55&harvestResultId=25";
        var sourceUrl="domain.json";
        var networkMap;
        var networkGrid;

        fetch(sourceUrl)
            .then((response) => {
                return response.json();
            })
            .then((data) => {
                networkMap=drawNetworkMap(networkMapContainer, data);
                networkGrid=drawNetworkDomainGrid("#domain-grid-continer", data);
        });
    });    

</script>

</body>
</html>